'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var authenticate = require('./checkout/authenticate.js');
var authenticate$1 = require('./appProxy/authenticate.js');

function authenticatePublicFactory(params) {
  const {
    logger,
    config
  } = params;
  const authenticateCheckout = authenticate.authenticateCheckoutFactory(params);
  const authenticateAppProxy = authenticate$1.authenticateAppProxyFactory(params);
  if (config.future.v3_authenticatePublic) {
    const context = {
      checkout: authenticateCheckout,
      appProxy: authenticateAppProxy
    };
    return context;
  }
  const authenticatePublic = (request, options) => {
    logger.deprecated('3.0.0', 'authenticate.public() will be deprecated in v3. Use authenticate.public.checkout() instead.');
    return authenticateCheckout(request, options);
  };
  authenticatePublic.checkout = authenticateCheckout;
  authenticatePublic.appProxy = authenticateAppProxy;
  return authenticatePublic;
}

exports.authenticatePublicFactory = authenticatePublicFactory;
