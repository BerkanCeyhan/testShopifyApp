{"version":3,"file":"auth-code-flow.js","sourceRoot":"","sources":["../../../../../../src/server/authenticate/admin/strategies/auth-code-flow.ts"],"names":[],"mappings":"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"}