"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.redirectToBouncePage = void 0;
var server_runtime_1 = require("@remix-run/server-runtime");
var redirectToBouncePage = function (params, url) {
    var config = params.config;
    // Make sure we always point to the configured app URL so it also works behind reverse proxies (that alter the Host
    // header).
    url.searchParams.set('shopify-reload', "".concat(config.appUrl).concat(url.pathname).concat(url.search));
    // eslint-disable-next-line no-warning-comments
    // TODO Make sure this works on chrome without a tunnel (weird HTTPS redirect issue)
    // https://github.com/orgs/Shopify/projects/6899/views/1?pane=issue&itemId=28376650
    throw (0, server_runtime_1.redirect)("".concat(config.auth.patchSessionTokenPath).concat(url.search));
};
exports.redirectToBouncePage = redirectToBouncePage;
//# sourceMappingURL=redirect-to-bounce-page.js.map