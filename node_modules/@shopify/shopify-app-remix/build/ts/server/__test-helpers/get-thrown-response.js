"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getThrownResponse = void 0;
var tslib_1 = require("tslib");
function getThrownResponse(callback, request) {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
        var response_1;
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    _a.trys.push([0, 2, , 3]);
                    return [4 /*yield*/, callback(request)];
                case 1:
                    _a.sent();
                    return [3 /*break*/, 3];
                case 2:
                    response_1 = _a.sent();
                    if (!(response_1 instanceof Response)) {
                        throw new Error("".concat(request.method, " request to ").concat(request.url, " threw an error instead of a response: ").concat(response_1));
                    }
                    return [2 /*return*/, response_1];
                case 3: throw new Error("".concat(request.method, " request to ").concat(request.url, " did not throw"));
            }
        });
    });
}
exports.getThrownResponse = getThrownResponse;
//# sourceMappingURL=get-thrown-response.js.map